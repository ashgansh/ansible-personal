---
- hosts: localhost
  connection: local
  become_user: benjaminshafii
  vars:
    packages:
      - ack
      - adobe-source-code-pro-fonts
      - arandr
      - calibre
      - chromium
      - clang
      - compton
      - docker
      - docker-compose
      - firefox-developer
      - i3-gaps
      - i3lock
      - nodejs
      - openvpn
      - playerctl
      - polybar-git
      - rofi
      - slack-desktop
      - spotifyd
      - synergy
      - termite
      - tree
      - ttf-fira-mono
      - ttf-font-awesome
      - ttf-monaco
      - ttf-ms-fonts
      - vlc

    dotfiles:
      - config/Xresources
      - config/compton
      - config/dunst
      - config/i3
      - config/polybar
      - config/rofi
      - config/termite
      - gitconfig
      - gitignore_global
      - vimrc
      - xinitrc
      - zshrc

  tasks:
    - name: Create dotfile symlinks
      file:
        src: /home/benjaminshafii/dotfiles/{{ item }}
        dest: /home/benjaminshafii/.{{ item }}
        state: link
        force: yes
      with_items: "{{ dotfiles }}"
      tags:
        - dotfiles

    - name: Install "{{ item }}"
      aur: name={{ item }}
      with_items: "{{ packages }}"
      tags:
        - install

    - name: Create symlinks for secrets
      file:
        src: /home/benjaminshafii/ansible-personal/toolbox.zsh
        dest: /home/benjaminshafii/.config/toolbox.zsh
        state: link
        force: yes
      tags:
        - secrets




